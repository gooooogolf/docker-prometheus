{
   "dashboard":{
      "__inputs":[

      ],
      "__requires":[
         {
            "type":"grafana",
            "id":"grafana",
            "name":"Grafana",
            "version":"4.4.2"
         },
         {
            "type":"panel",
            "id":"grafana-piechart-panel",
            "name":"Pie Chart",
            "version":"1.1.5"
         },
         {
            "type":"panel",
            "id":"graph",
            "name":"Graph",
            "version":""
         },
         {
            "type":"panel",
            "id":"savantly-heatmap-panel",
            "name":"Heatmap",
            "version":"0.2.0"
         }
      ],
      "annotations":{
         "list":[

         ]
      },
      "editable":true,
      "gnetId":null,
      "graphTooltip":0,
      "hideControls":false,
      "id":null,
      "links":[

      ],
      "refresh":false,
      "rows":[
         {
            "collapse":false,
            "height":210,
            "panels":[
               {
                  "chartId":"chart_9",
                  "colors":[
                     "rgba(50, 172, 45, 1)",
                     "rgba(241, 255, 0, 1)",
                     "rgba(245, 54, 54, 1)"
                  ],
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "format":"none",
                  "id":9,
                  "legend":{
                     "avg":true,
                     "current":true,
                     "max":true,
                     "min":true,
                     "show":false,
                     "total":true
                  },
                  "links":[

                  ],
                  "mappingType":1,
                  "maxDataPoints":100,
                  "nullPointMode":"connected",
                  "seriesOverrides":[

                  ],
                  "span":12,
                  "targets":[
                     {
                        "expr":"sum by (merchant,service) (increase(RESOURCE_SERV_total_transaction[$Interval]))",
                        "format":"time_series",
                        "interval":"",
                        "intervalFactor":2,
                        "legendFormat":"{{merchant}} / {{service}}",
                        "metric":"RESOURCE_SERV_total_transaction",
                        "refId":"A",
                        "step":20
                     }
                  ],
                  "thresholds":"0,3000",
                  "title":"Hot API",
                  "treeMap":{
                     "colorByFunction":"avg",
                     "debug":false,
                     "depth":0,
                     "enableGrouping":true,
                     "enableTimeBlocks":false,
                     "groups":[
                        {
                           "key":"server",
                           "value":"/^.*./g"
                        }
                     ],
                     "ids":[
                        "alias"
                     ],
                     "mode":"slice",
                     "nodeSizeProperty":"value",
                     "showLegend":false,
                     "sizeByFunction":"avg"
                  },
                  "type":"savantly-heatmap-panel",
                  "valueMaps":[
                     {
                        "op":"=",
                        "text":"N/A",
                        "value":"null"
                     }
                  ]
               }
            ],
            "repeat":null,
            "repeatIteration":null,
            "repeatRowId":null,
            "showTitle":false,
            "title":"New row",
            "titleSize":"h6"
         },
         {
            "collapse":false,
            "height":280,
            "panels":[
               {
                  "aliasColors":{

                  },
                  "bars":false,
                  "dashLength":10,
                  "dashes":false,
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "fill":1,
                  "grid":{

                  },
                  "id":1,
                  "legend":{
                     "alignAsTable":false,
                     "avg":false,
                     "current":false,
                     "max":false,
                     "min":false,
                     "show":true,
                     "total":false,
                     "values":false
                  },
                  "lines":true,
                  "linewidth":1,
                  "links":[

                  ],
                  "nullPointMode":"null",
                  "percentage":false,
                  "pointradius":5,
                  "points":false,
                  "renderer":"flot",
                  "seriesOverrides":[

                  ],
                  "spaceLength":10,
                  "span":6,
                  "stack":false,
                  "steppedLine":false,
                  "targets":[
                     {
                        "expr":"sum by (service) (increase(RESOURCE_SERV_total_transaction[$Interval]))",
                        "format":"time_series",
                        "hide":false,
                        "intervalFactor":2,
                        "legendFormat":"{{service}}",
                        "metric":"RESOURCE_SERV_total_transaction",
                        "refId":"B",
                        "step":2
                     }
                  ],
                  "thresholds":[

                  ],
                  "timeFrom":null,
                  "timeShift":null,
                  "title":"Transaction by API",
                  "tooltip":{
                     "msResolution":true,
                     "shared":true,
                     "sort":0,
                     "value_type":"cumulative"
                  },
                  "type":"graph",
                  "xaxis":{
                     "buckets":null,
                     "mode":"time",
                     "name":null,
                     "show":true,
                     "values":[

                     ]
                  },
                  "yaxes":[
                     {
                        "format":"none",
                        "label":"",
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     },
                     {
                        "format":"short",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     }
                  ]
               },
               {
                  "aliasColors":{

                  },
                  "bars":false,
                  "dashLength":10,
                  "dashes":false,
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "fill":1,
                  "grid":{

                  },
                  "id":5,
                  "legend":{
                     "avg":false,
                     "current":false,
                     "max":false,
                     "min":false,
                     "show":true,
                     "total":false,
                     "values":false
                  },
                  "lines":true,
                  "linewidth":1,
                  "links":[

                  ],
                  "nullPointMode":"null",
                  "percentage":false,
                  "pointradius":5,
                  "points":false,
                  "renderer":"flot",
                  "seriesOverrides":[

                  ],
                  "spaceLength":10,
                  "span":6,
                  "stack":false,
                  "steppedLine":false,
                  "targets":[
                     {
                        "expr":"sum by (merchant) (increase(RESOURCE_SERV_total_transaction[$Interval]))",
                        "format":"time_series",
                        "hide":false,
                        "intervalFactor":1,
                        "legendFormat":"{{merchant}}",
                        "metric":"RESOURCE_SERV_total_transaction",
                        "refId":"E",
                        "step":1
                     }
                  ],
                  "thresholds":[

                  ],
                  "timeFrom":null,
                  "timeShift":null,
                  "title":"Transaction by Client",
                  "tooltip":{
                     "msResolution":true,
                     "shared":true,
                     "sort":0,
                     "value_type":"cumulative"
                  },
                  "type":"graph",
                  "xaxis":{
                     "buckets":null,
                     "mode":"time",
                     "name":null,
                     "show":true,
                     "values":[

                     ]
                  },
                  "yaxes":[
                     {
                        "format":"none",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     },
                     {
                        "format":"short",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     }
                  ]
               }
            ],
            "repeat":null,
            "repeatIteration":null,
            "repeatRowId":null,
            "showTitle":false,
            "title":"Row",
            "titleSize":"h6"
         },
         {
            "collapse":false,
            "height":293.17498779296875,
            "panels":[
               {
                  "aliasColors":{

                  },
                  "cacheTimeout":null,
                  "combine":{
                     "label":"Others",
                     "threshold":0
                  },
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "fontSize":"80%",
                  "format":"percent",
                  "hideTimeOverride":false,
                  "id":3,
                  "interval":null,
                  "legend":{
                     "percentage":true,
                     "show":true,
                     "values":false
                  },
                  "legendType":"On graph",
                  "links":[

                  ],
                  "maxDataPoints":3,
                  "nullPointMode":"connected",
                  "pieType":"pie",
                  "span":6,
                  "strokeWidth":"2",
                  "targets":[
                     {
                        "expr":"sum by (merchant) (rate(RESOURCE_SERV_total_transaction[12h]))",
                        "format":"time_series",
                        "hide":false,
                        "intervalFactor":2,
                        "legendFormat":"{{merchant}}",
                        "metric":"RESOURCE_SERV_total_transaction",
                        "refId":"A",
                        "step":21600
                     }
                  ],
                  "timeFrom":"12h",
                  "timeShift":null,
                  "title":"Sum by Client (12 hours)",
                  "type":"grafana-piechart-panel",
                  "valueName":"current"
               },
               {
                  "aliasColors":{

                  },
                  "bars":false,
                  "dashLength":10,
                  "dashes":false,
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "fill":1,
                  "grid":{

                  },
                  "id":4,
                  "legend":{
                     "avg":false,
                     "current":false,
                     "max":false,
                     "min":false,
                     "show":true,
                     "total":false,
                     "values":false
                  },
                  "lines":true,
                  "linewidth":1,
                  "links":[

                  ],
                  "nullPointMode":"null",
                  "percentage":false,
                  "pointradius":5,
                  "points":false,
                  "renderer":"flot",
                  "seriesOverrides":[

                  ],
                  "spaceLength":10,
                  "span":6,
                  "stack":false,
                  "steppedLine":false,
                  "targets":[
                     {
                        "expr":"sum(increase(RESOURCE_SERV_total_transaction[$Interval]))",
                        "format":"time_series",
                        "intervalFactor":2,
                        "legendFormat":"Transaction",
                        "metric":"RESOURCE_SERV_total_transaction",
                        "refId":"B",
                        "step":2
                     }
                  ],
                  "thresholds":[

                  ],
                  "timeFrom":null,
                  "timeShift":null,
                  "title":"Overall Transaction",
                  "tooltip":{
                     "msResolution":false,
                     "shared":true,
                     "sort":0,
                     "value_type":"cumulative"
                  },
                  "type":"graph",
                  "xaxis":{
                     "buckets":null,
                     "mode":"time",
                     "name":null,
                     "show":true,
                     "values":[

                     ]
                  },
                  "yaxes":[
                     {
                        "format":"none",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     },
                     {
                        "format":"none",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     }
                  ]
               }
            ],
            "repeat":null,
            "repeatIteration":null,
            "repeatRowId":null,
            "showTitle":false,
            "title":"New row",
            "titleSize":"h6"
         },
         {
            "collapse":false,
            "height":"250px",
            "panels":[
               {
                  "aliasColors":{

                  },
                  "bars":false,
                  "dashLength":10,
                  "dashes":false,
                  "datasource":"$DataSource",
                  "editable":true,
                  "error":false,
                  "fill":1,
                  "grid":{

                  },
                  "id":8,
                  "legend":{
                     "avg":false,
                     "current":false,
                     "max":false,
                     "min":false,
                     "show":true,
                     "total":false,
                     "values":false
                  },
                  "lines":true,
                  "linewidth":1,
                  "links":[

                  ],
                  "nullPointMode":"null",
                  "percentage":false,
                  "pointradius":5,
                  "points":false,
                  "renderer":"flot",
                  "seriesOverrides":[

                  ],
                  "spaceLength":10,
                  "span":12,
                  "stack":false,
                  "steppedLine":false,
                  "targets":[
                     {
                        "expr":"sum by (job) (increase(RESOURCE_SERV_total_transaction[$Interval]))",
                        "format":"time_series",
                        "intervalFactor":2,
                        "legendFormat":"{{job}}",
                        "metric":"",
                        "refId":"A",
                        "step":2
                     }
                  ],
                  "thresholds":[

                  ],
                  "timeFrom":null,
                  "timeShift":null,
                  "title":"Total Transaction per Container",
                  "tooltip":{
                     "msResolution":false,
                     "shared":true,
                     "sort":1,
                     "value_type":"cumulative"
                  },
                  "type":"graph",
                  "xaxis":{
                     "buckets":null,
                     "mode":"time",
                     "name":null,
                     "show":true,
                     "values":[

                     ]
                  },
                  "yaxes":[
                     {
                        "format":"short",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     },
                     {
                        "format":"short",
                        "label":null,
                        "logBase":1,
                        "max":null,
                        "min":null,
                        "show":true
                     }
                  ]
               }
            ],
            "repeat":null,
            "repeatIteration":null,
            "repeatRowId":null,
            "showTitle":false,
            "title":"New row",
            "titleSize":"h6"
         }
      ],
      "schemaVersion":14,
      "style":"dark",
      "tags":[

      ],
      "templating":{
         "list":[
            {
               "allFormat":"glob",
               "current":{
                  "text":"default",
                  "value":"default"
               },
               "datasource":null,
               "hide":0,
               "includeAll":false,
               "label":"DataSource",
               "multi":false,
               "name":"DataSource",
               "options":[

               ],
               "query":"prometheus",
               "refresh":1,
               "regex":"",
               "type":"datasource"
            },
            {
               "allFormat":"glob",
               "auto":false,
               "auto_count":30,
               "auto_min":"10s",
               "current":{
                  "text":"1m",
                  "value":"1m"
               },
               "datasource":null,
               "hide":0,
               "includeAll":false,
               "label":"",
               "multi":false,
               "name":"Interval",
               "options":[
                  {
                     "selected":true,
                     "text":"1m",
                     "value":"1m"
                  },
                  {
                     "selected":false,
                     "text":"10m",
                     "value":"10m"
                  },
                  {
                     "selected":false,
                     "text":"30m",
                     "value":"30m"
                  },
                  {
                     "selected":false,
                     "text":"1h",
                     "value":"1h"
                  },
                  {
                     "selected":false,
                     "text":"6h",
                     "value":"6h"
                  },
                  {
                     "selected":false,
                     "text":"12h",
                     "value":"12h"
                  },
                  {
                     "selected":false,
                     "text":"1d",
                     "value":"1d"
                  },
                  {
                     "selected":false,
                     "text":"7d",
                     "value":"7d"
                  },
                  {
                     "selected":false,
                     "text":"14d",
                     "value":"14d"
                  },
                  {
                     "selected":false,
                     "text":"30d",
                     "value":"30d"
                  }
               ],
               "query":"1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
               "refresh":2,
               "type":"interval"
            }
         ]
      },
      "time":{
         "from":"now-15m",
         "to":"now"
      },
      "timepicker":{
         "refresh_intervals":[
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
         ],
         "time_options":[
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
         ]
      },
      "timezone":"browser",
      "title":"resource_server_transaction_count",
      "version":18
   },
   "overwrite":false
}